\begin{algorithm}[!t]
    \small
    \caption{Ballroom walk sampling}\label{alg:ballroom_walk}
    \SetKwFunction{algo}{BallroomWalk}
    \SetKwFunction{proc}{TemporalRW}
    \SetKw{KwGoTo}{go to}
    
    \SetKwProg{myalg}{Algorithm}{}{}
    \myalg{\algo{}}{
    \KwIn {
        %temporal graph $G = (\mathcal{V}, \mathcal{E}, \mathcal{T})$,
        multimodal graph $G = (\mathcal{V}, \mathcal{E}, \mathcal{A}, \mathcal{R}, \mathcal{X})$,
        relative temporal window $\omega$,
        walks per node $n$,
        walk length $l$,
        center node $v$, 
    }
    \KwOut {
        Temporal $n$ random walks $P_l$
    }
        Initialize $C$\;
        $t_v = \begin{cases}
            t_v \sim \tau(v)                                            & \mathbf{1}_{\mathcal{T}}(v) = 1 \\
            % [(\_, t_v), ...] \leftarrow \proc{$v$, $(-\infty, \infty)$}     & \text{otherwise}
            \proc{$v$, $(-\infty, \infty)$}.first()     & \text{otherwise}
        \end{cases}$\; \label{alg:brw:infer_t}
        $N(v) = \{w|
            w \in \mathcal{V}, 
            \tau(w) \cap \omega + t_v \neq \emptyset
        \}$\; \label{alg:brw:neighborhood}
        \For {$i = 1$ \KwTo $n$}{
            $w \sim \mathcal{N}$\;
            $C = C \cup \proc{$w$, $\omega + v_t$}$\; \label{alg:brw:context}
        }
        \texttt{RandomPermute}($C$)\;

        \For {$i = 1$ \KwTo $n$}{
            $P_l = \{C_j | i \cdot l \leq j < i \cdot l+l\}$\; \label{alg:brw:walks}
            \KwRet $P_l$\;
        }
    }{}
    
    % \setcounter{AlgoLine}{0}
    % \SetKwProg{myproc}{Procedure}{}{}
    % \myproc{\proc{}}{
    % \KwIn {
    %     center node $v$,
    %     temporal window $\omega$
    % }
    % \KwOut {
    %     Temporal random walk $P_l$
    % }
    %     Initialize $P_l$\; 
    %     $(u, t_u) = (v, \varnothing)$\;
    %     \For {$i = 1$ \KwTo $l$} {
    %         $\mathcal{N} = \{w| 
    %             w \in \mathcal{V}, 
    %             (u, w) \in \mathcal{E},
    %             (\tau(u) \cap \tau(w) \cap \omega ) \neq \emptyset
    %         \}$\;\label{all:tempo_neighbors}
        
    %         \If (\tcc*[h]{Restart on dead end}){$\mathcal{N} = \emptyset$}{
    %             $(u, t_u) = (v, t_v)$\;
    %             \KwGoTo \ref{all:tempo_neighbors}\;
    %         }

    %         $w \sim \mathcal{N}$\;
    %         $t_u = \max \left\{ t_u, \min \tau(w), \tau((u, w)) \right\}$\;
    %         $u = w$\;

    %         $P_{l}.push((u, u_t))$\;
    %     }

    %     \KwRet $P_l$
    % }
\end{algorithm}